
jobs:
- job: py35
  strategy:
    matrix:
      Linux py35:
        IMAGE_NAME: 'ubuntu-16.04'
        PYTHON_VERSION: '3.5'
        TOX_CMD: 'py35'
      OSX py35:
        IMAGE_NAME: 'macos-10.13'
        PYTHON_VERSION: '3.5'
        TOX_CMD: 'py35'
      Windows py35:
        IMAGE_NAME: 'vs2017-win2016'
        PYTHON_VERSION: '3.5'
        TOX_CMD: 'py35'
  pool:
    vmImage: $(IMAGE_NAME)
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: $(PYTHON_VERSION)
    - bash: pip install tox
    - bash: tox -e $TOX_CMD
- job: py36
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e py36
- job: py37
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.7'
    - script: pip install tox
    - script: tox -e py37
- job: tensorflow_112
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e tensorflow-112
- job: tensorflow_113
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e tensorflow-113
- job: tensorflow_114
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e tensorflow-114
- job: tensorflow_2
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e tensorflow-2
- job: setup
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e setup
- job: flake8
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e flake8
- job: coverage
  steps:
    - task: UsePythonVersion@0
      inputs:
        versionSpec: '3.6'
    - script: pip install tox
    - script: tox -e coverage
